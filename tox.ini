# content of: tox.ini , put in same dir as setup.py
[tox]
envlist =
  {py27,py36}-{test},docs,{github,readthedocs-latest,readthedocs-stable}-{py36}-{integrationtests}
skipsdist=True

[testenv]
passenv = LC_ALL, LANG, HOME
setenv =
  github: SELENIUM_BASE_URL=https://nolte.github.io/cookiecutter-circleci/
  readthedocs-latest: SELENIUM_BASE_URL=https://cookiecutter-circleci.readthedocs.io/en/latest/
  readthedocs-stable: SELENIUM_BASE_URL=https://cookiecutter-circleci.readthedocs.io/en/stable/
commands =
  test: pytest --junit-xml {envtmpdir}/reports/simplegeneration/report.xml {posargs:tests}
  integrationtests: pytest --junit-xml {envtmpdir}/reports/selenium/report.xml --driver Chrome ./it-tests
deps =
  test: -r{toxinidir}/requirements.txt
  integrationtests:  -r{toxinidir}/requirementsIT.txt

[testenv:release]
deps=
  bumpversion
commands=
 bumpversion --commit release

[testenv:deviteration]
deps=
  bumpversion
commands=
  bumpversion --commit minor

[testenv:nextdev]
deps=
  bumpversion
commands=
   bumpversion --allow-dirty minor

# generate the sphinx doc
[testenv:docs]
basepython=python
changedir=docs
deps= -r{toxinidir}/requirementsDocs.txt
commands=
    sphinx-build -b linkcheck -b html -d {envtmpdir}/doctrees . {envtmpdir}/html
